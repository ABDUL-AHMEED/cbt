<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAMB Login - Official Mock</title>
    <link rel="icon" type="image/png" href="AH4.png.png">
    <link rel="stylesheet" href="style.css">
    <style>
        body { background: #f4f7f6; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: 'Segoe UI', sans-serif;}
        .login-card { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; width: 350px; border-top: 5px solid #004a99; }
        h2 { color: #004a99; margin-bottom: 10px; }
        input { width: 100%; padding: 12px; margin: 20px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .start-btn { width: 100%; background: #004a99; color: white; padding: 14px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .start-btn:hover { background: #002d5f; }
    </style>
</head>
<body>
    <div class="login-card">
        <h2>JAMB CBT LOGIN</h2>
        <p>Enter your Full Name to begin the mock exam.</p>
        <input type="text" id="studentName" placeholder="Surname Firstname" required>
        <button class="start-btn" onclick="login()">LOGIN TO EXAM</button>
<input type="text" id="studentPin" placeholder="Enter your 6-digit PIN">

    </div>
<script>
    function login() {
        const name = document.getElementById('studentName').value.trim();
        // Make sure you have an input with id="studentPin" in your HTML too!
        const pin = document.getElementById('studentPin').value.trim();

        if (name === "" || pin === "") {
            alert("Oga, please enter both your Name and PIN!");
            return;
        }

        // 1. Get the list of PINs from the Admin page
        let db = JSON.parse(localStorage.getItem('exam_db')) || [];

        // 2. Find if the student name and PIN match our records
        const student = db.find(s => s.name === name && s.pin == pin);

        if (!student) {
            alert("Invalid Name or PIN. Please check your slip!");
            return;
        }

        // 3. Time Check: Only allow login between 4 PM (16:00) and 7 PM (19:00)
        const currentHour = new Date().getHours();
        if (currentHour < 16 || currentHour >= 19) {
            alert("Access Denied! The portal is only open from 4:00 PM to 7:00 PM.");
            return;
        }

        // 4. Expiry Check: Check if 48 hours have passed
        if (Date.now() > student.expires) {
            alert("This PIN has expired! Contact Admin for a new one.");
            return;
        }

        // 5. Success!
        localStorage.setItem('candidateName', name);
        alert("Verification Successful! Good luck.");
        window.location.href = 'home.html';
    }
</script>

</body>

</html>
